<header class="site-header">
  <div class="container header-inner">
    <div class="brand">
      <a class="site-title" href="{{ '/' | relative_url }}">{{ site.title }}</a>
    </div>
    <div class="nav-center">
      <nav class="site-nav" aria-label="Main">
        <ul>
          {% assign current_lang = page.lang | default: site.lang | default: 'zh' %}
          {% assign nav = site.data.nav[current_lang] %}
          {% for item in nav.main %}
            {% assign is_active = false %}
            {% if page.url == item.url or page.url == item.url | append: 'index.html' %}
              {% assign is_active = true %}
            {% endif %}
            <li class="nav-item{% if item.children %} has-children{% endif %}" data-nav-item>
              <a href="{{ item.url | relative_url }}" class="{% if is_active %}active{% endif %}" aria-current="{% if is_active %}page{% endif %}">{{ item.label }}</a>
              {% if item.children %}
                <button class="nav-caret" aria-expanded="false" aria-label="Toggle submenu" data-nav-caret>
                  <span aria-hidden="true">â–¾</span>
                </button>
                <ul class="dropdown" role="menu">
                  {% for c in item.children %}
                    <li role="none"><a role="menuitem" href="{{ c.url | relative_url }}">{{ c.label }}</a></li>
                  {% endfor %}
                </ul>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
      </nav>
    </div>
    <div class="actions">
      {% include lang_switch.html %}
    </div>
  </div>
</header> 